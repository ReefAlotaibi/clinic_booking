<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8" />
    <title>البوابة الموحدة — مجمع أطلس الطبي</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
        :root {
            --brand: #0d6efd;
            --brand-dark: #0b5ed7;
            --bg: #f6f8fb;
            --card: #fff;
            --text: #222;
            --muted: #6b7280;
            --border: #e5e7eb;
            --ok: #16a34a;
            --warn: #f59e0b;
            --danger: #dc2626;
        }

        * {
            box-sizing: border-box
        }

        body {
            margin: 0;
            font-family: Tahoma, sans-serif;
            background: var(--bg);
            color: var(--text)
        }

        a {
            color: inherit;
            text-decoration: none
        }

        /* Header */
        header {
            background: var(--card);
            border-bottom: 1px solid var(--border);
        }

        .topbar {
            max-width: 1100px;
            margin: 0 auto;
            padding: 16px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 16px;
        }

        .brand {
            display: flex;
            align-items: center;
            gap: 12px
        }

        .brand img {
            width: 100px;
            height: 100px;
            object-fit: contain;
            border-radius: 10px;
            background: #fff
        }

        .brand h1 {
            margin: 0;
            font-size: 30px;
            color: var(--brand-dark)
        }

        .meta {
            color: var(--muted);
            font-size: 14px
        }

        main {
            max-width: 1100px;
            margin: 20px auto;
            padding: 0 16px
        }

        .grid {
            display: grid;
            gap: 16px;
            grid-template-columns: repeat(3, minmax(220px, 1fr));
        }

        @media (max-width:980px) {
            .grid {
                grid-template-columns: repeat(2, minmax(220px, 1fr));
            }
        }

        @media (max-width:640px) {
            .grid {
                grid-template-columns: 1fr;
            }
        }

        .card {
            background: var(--card);
            border: 1px solid var(--border);
            border-radius: 14px;
            padding: 16px;
            box-shadow: 0 6px 18px rgba(0, 0, 0, .05);
            display: flex;
            flex-direction: column;
            gap: 10px;
            transition: .15s transform;
        }

        .card:hover {
            transform: translateY(-2px);
        }

        .card h3 {
            margin: 0;
            font-size: 18px;
            color: var(--brand-dark);
            display: flex;
            align-items: center;
            gap: 8px
        }

        .card p {
            margin: 0;
            color: var(--muted);
            font-size: 14px;
            line-height: 1.8
        }

        .actions {
            display: flex;
            gap: 8px;
            margin-top: 8px
        }

        .btn {
            border: none;
            border-radius: 10px;
            padding: 10px 14px;
            cursor: pointer;
            font-size: 14px;
            background: var(--brand);
            color: #fff;
        }

        .btn.secondary {
            background: #10b981;
        }

        .btn.ghost {
            background: #eef2ff;
            color: #1e40af;
        }

        .tag {
            display: inline-block;
            font-size: 12px;
            color: #0f5132;
            background: #d1fae5;
            border: 1px solid #a7f3d0;
            padding: 2px 8px;
            border-radius: 999px
        }

        footer {
            text-align: center;
            font-size: 22px;
            color: #666;
            margin-top: 25px;
            padding: 15px;
            border-top: 1px solid #ddd;
        }

        .lock {
            position: fixed;
            inset: 0;
            background: rgba(15, 23, 42, .08);
            backdrop-filter: blur(3px);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 16px;
        }

        .panel {
            width: min(520px, 96vw);
            background: #fff;
            border: 1px solid var(--border);
            border-radius: 16px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, .12);
            padding: 18px;
        }

        .panel header {
            border: 0;
            background: transparent;
            padding: 0 0 8px
        }

        .panel h2 {
            margin: 0;
            font-size: 18px;
            color: var(--brand-dark)
        }

        .panel p {
            margin: 6px 0;
            color: var(--muted);
            font-size: 14px
        }

        .row {
            display: flex;
            gap: 10px;
            margin-top: 10px
        }

        .input {
            flex: 1;
            border: 1px solid var(--border);
            border-radius: 10px;
            padding: 12px 10px;
            font-size: 16px;
        }

        .remember {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 13px;
            color: var(--muted);
            margin-top: 6px
        }

        .error {
            margin-top: 8px;
            color: #842029;
            background: #f8d7da;
            border: 1px solid #f5c2c7;
            padding: 8px 10px;
            border-radius: 8px;
            display: none
        }

        .hint {
            margin-top: 8px;
            color: #664d03;
            background: #fff3cd;
            border: 1px solid #ffecb5;
            padding: 8px 10px;
            border-radius: 8px;
            font-size: 13px
        }
    </style>
</head>

<body>

    <!-- ========== Header ========== -->
    <header>
        <div class="topbar">
            <div class="brand">
                <img src="logo.jpg" alt="شعار المجمع">
                <div>
                    <h1>البوابة الموحدة — مجمع اطلس الطبي</h1>
                    <div class="meta" id="today"></div>
                </div>
    </header>

    <!-- ========== Content ========== -->
    <main>
        <div class="grid">
            <!-- حجز -->
            <div class="card">
                <h3>🗓 نموذج الحجز</h3>
                <p>إرسال طلب حجز عبر الواتساب مع التحقق من اليوم والوقت.</p>
                <div class="actions">
                    <a class="btn" href="booking.html">فتح النموذج</a>
                </div>
            </div>

            <!-- لوحة التحكم اليومية -->
            <div class="card">
                <h3>📊 لوحة التحكم اليومية</h3>
                <p>أوقات الذروة، المواعيد القادمة، وتنبيهات الازدحام — مرتبطة بـ <strong>DashboardData</strong>.</p>
                <div class="actions">
                    <a class="btn" href="dashboard.html">فتح اللوحة</a>
                    <a class="btn ghost" href="instructions.html">طريقة الاستخدام</a>
                </div>
            </div>

            <!-- التقرير السنوي -->
            <div class="card">
                <h3>📈 التقرير السنوي</h3>
                <p>زيارات شهريًا + توزيع الأقسام + جداول الملخص — مرتبطة بـ <strong>MonthlyVisits /
                        DepartmentShare</strong>.</p>
                <div class="actions">
                    <a class="btn" href="stats.html">فتح التقرير</a>
                </div>
            </div>

            <!-- Google Sheets (اختياري) -->
            <div class="card">
                <h3>📝 Google Sheets</h3>
                <p>تحديث الأرقام مباشرة من الشيت. لا حاجة لتعديل الكود.</p>
                <div class="actions">
                    <!-- عدّلي الروابط حسب صلاحيات المؤسسة -->
                    <a class="btn secondary" target="_blank"
                        href="https://docs.google.com/spreadsheets/d/1yl8IPPGA0LqWTLzOI1d9rf78FMd9ho0CifknH-d-AyM/edit?usp=sharing">فتح
                        الشيت (تحرير)</a>
                    <a class="btn ghost" target="blank"
                        href="https://docs.google.com/spreadsheets/d/e/2PACX-1vS2-wtcsZJlDXPBL-WHldwl3HiO2fFCJ5xokezULto8AYpXUIMB8bqPuWsfJSVgpjQHJYDyhm4_RQE/pubhtml">عرض
                        فقط</a>
                </div>
            </div>

            <!-- دليل الاستخدام -->
            <div class="card">
                <h3>📚 دليل الاستخدام</h3>
                <p>شرح خطوات تعديل الشيت والطباعة وحلول الأخطاء الشائعة.</p>
                <div class="actions">
                    <a class="btn" href="instructions.html">فتح الدليل</a>
                </div>
            </div>
    </main>

    <footer
        style="background:#f3f6fb; border-top:1px solid #ddd; padding:15px; text-align:center; font-size:14px; color:#555; line-height:1.6;">
        <strong>© 2025 — المجمع الطبي</strong> | البوابة الموحدة <em>(نسخة تدريبية)</em><br>
        إعداد: <span style="color:#0066cc;">الطالبة [ ريف ناشي العتيبي ]</span> | تطوير باستخدام <span
            style="color:#0066cc;">HTML / CSS / JS</span><br>
        <small>🔒 الحماية برمز دخول — للاستخدام التجريبي فقط</small>
    </footer>

    <!-- ========== قفل برمز دخول بسيط ========== -->
    <div class="lock" id="lock">
        <div class="panel">
            <header>
                <h2>🔒 دخول البوابة</h2>
                <p>فضلاً أدخلي رمز الدخول (PIN). يمكن تفعيل "تذكرني" لحفظ الدخول على هذا الجهاز.</p>
            </header>

            <div class="row">
                <input id="pin" class="input" type="password" inputmode="numeric" placeholder="أدخل الرمز مثلاً 2468" />
                <button class="btn" onclick="unlock()">دخول</button>
            </div>
            <label class="remember"><input id="remember" type="checkbox" /> تذكّرني على هذا الجهاز</label>
            <div id="error" class="error">الرمز غير صحيح. حاولي مرة أخرى.</div>
            <div class="hint">تنبيه: هذه حماية بسيطة داخل المتصفح، وليست بديلاً عن أنظمة صلاحيات/مستخدمين.</div>
        </div>
    </div>

    <script>
        // === الإعدادات القابلة للتعديل ===
        const PASS_CODE = '2468'; // تغيير رمز الدخول
        const REMEMBER_KEY = 'portal_ok_v1';

        // فتح تلقائي إذا متذكر
        (function () {
            const ok = localStorage.getItem(REMEMBER_KEY);
            if (ok === '1') { document.getElementById('lock').style.display = 'none'; }
            // دعم Enter
            document.getElementById('pin').addEventListener('keyup', e => {
                if (e.key === 'Enter') unlock();
            });
        })();

        function unlock() {
            const pin = document.getElementById('pin').value.trim();
            const remember = document.getElementById('remember').checked;
            const error = document.getElementById('error');

            if (pin === PASS_CODE) {
                if (remember) { localStorage.setItem(REMEMBER_KEY, '1'); }
                document.getElementById('lock').style.display = 'none';
                error.style.display = 'none';
            } else {
                error.style.display = 'block';
            }
        }
    </script>
</body>

</html>
